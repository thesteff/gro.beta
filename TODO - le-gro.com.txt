SITE
====

:: GLOBAL
- envoie de mail à tout le groupe
- historique des mails envoyés
    -> est-ce que le mail d'envoi est toujours le même ?
        -> si non, est-ce que le mail d'envoi est par défaut celui de la personne (admin?) connectée ? ou bien est-ce qu'on laisse libre ? (mais si c'est libre, il y a un problème de sécurité) ou bien on laisse le choix uniquement entre adresse perso et adresse de contact du groupe (ici gro)?
        => pour l'instant je laisse l'adresse de contact du GRO
- éviter de rechercher les images d'avatar pour rien
- intégrer les avatars (admin, admin jam, répétition, membres, message groupe, ...)
- permissions
- monitoring sur nb membre / temps (+ dates jam)
- tester sur chrome
- utilisation de Bootstrap Icons
    -> pourquoi avoir mis un padding-right pour toutes les icones ???
    -> est-ce qu'on met des icones bootstrap aux header des tableaux pour le tri des colones?

    + est-ce qu'on peut voir les jam & répétitions auxquelles on participe depuis sa page profil ?


:: JAM
- invitation - bêta
- quota à l'inscription
- messages catégorisés
- pouvoir visualiser les personnes qui se désinscrivent
- gérer les tâches bénévoles dynamiques
- améliorer le système des wishlist
- mail de conf d'inscription/d'affectation
- Mail HTML ??
+ gérer différement les images dans le texte de présentation des jams parce que problème de chemin
+ pour les event_admin des jam ne sont pas des participants ? + si une personne est admin de jam, faut-il pouvoir l'ajouter en participante ?
+ dans la table jam_membres_relation il y a des lignes où jemId et/ou membreId est NULL -> bug?


:: DISCUSSION
- { mail si messages }
- ihm mobile
- alert si new message dans une jam auquel on participe
- discussion automatique pour les jam... (message catégorisés dans jam ?)
- voir le read at du/des correspondant
- dynamic load des messages
- alert avec du push


:: ADMIN
- épurer la page de la jam


:: PROFIL
- historique de ce qui a été joué
- Captcha à l'inscription
(- Ajouter album)


:: NEWS
- Aperçu vidéo


:: PLAYLIST
- suppr fichier principaux à l'archivage de la jam
- notification pour régénérer les fichiers principaux quand on fait un update de la playlist
- INTEGRITE notification à la suppression d'une playlist si cette dernière est utilisée par une jam archivée 
- INTEGRITE notification à la modifictation d'une playlist si cette derni�re est utilis�e relation membre-jam / morceau
- supprimer le pager sauf pour le répertoire du gro
- drag & drop


:: CONFIG

- Migration Bootstrap 4
(- STRIPE -> monétisation)




SELECT m.id, m.pseudo, m.nom, m.prenom, m.email, m.mobile, m.admin, m.genre FROM `membres` as m 
INNER JOIN jam_membres_relation ON m.id = jam_membres_relation.membresId
INNER JOIN jam ON jam.id = jam_membres_relation.jamId
WHERE jam.slug = 'bidule' AND jam_membres_relation.event_admin = 0



SELECT m.id, m.pseudo, m.nom, m.prenom, m.email, m.mobile, m.admin, m.genre FROM `membres` as m 
LEFT JOIN jam_membres_relation ON m.id = jam_membres_relation.membresId
LEFT JOIN jam ON jam.id = jam_membres_relation.jamId
WHERE jam.slug != 'bidule'
GROUP BY m.id



SELECT m.id, m.pseudo, m.nom, m.prenom, m.email, m.mobile, m.admin, m.genre FROM `membres` as m 
LEFT JOIN jam_membres_relation ON m.id = jam_membres_relation.membresId
WHERE jam_membres_relation.jamId != 37
GROUP BY m.id



SELECT membres.id as memberId, pseudo, nom, prenom, email, mobile, admin, genre
FROM membres
WHERE membres.id NOT IN
(
    SELECT membres.id
    FROM membres
    LEFT JOIN jam_membres_relation
    ON membres.id = jam_membres_relation.membresId
    WHERE jam_membres_relation.jamId = '.$jamId.'
    AND jam_membres_relation.event_admin = 0
    GROUP BY membres.id
)
ORDER BY pseudo